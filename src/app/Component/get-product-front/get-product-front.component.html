<app-header-front></app-header-front>

<section class="hp-room-section">
    <div class="container-fluid">
        <div class="row">
            <!-- Tri et pagination -->

            <!-- Filtre Ã  gauche -->
            <div class="col-lg-3">
                <div class="filter-container">
                    <label for="search" class="filter-title">Search : </label>
                    <div class="input-container">
                        <div class="group">
                            <svg viewBox="0 0 24 24" aria-hidden="true" class="icon">
                                <g>
                                    <path
                                        d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"
                                    ></path>
                                </g>
                            </svg>
                            <input class="input" type="search" placeholder="Search" [(ngModel)]="nomProduit" />
                        </div>
                        <button class="button" (click)="searchProduct()">
                            <span class="span">ðŸ”Ž</span>
                        </button>
                    </div>

                    <div class="filter-title" style="margin-top: 10px;">Filter by</div>
                    <div class="filter-option">
                        <label class="filter-label">CatÃ©gorie</label>
                        <div class="category-checkboxes">
                            <div class="category-checkbox" *ngFor="let cat of categories">
                                <input type="checkbox" id="{{cat}}" [checked]="selectedCategories.includes(cat)" (change)="toggleCategorySelection(cat)">
                                <label for="{{cat}}">{{cat}}</label>
                            </div>
                        </div>
                    </div>

                    <label class="filter-label">Price</label>
                    <div class="price-filter">
                        <div class="price-range">
                            <input type="range" id="minPrice" name="minPrice" min="0" max="maxPrice" step="1" [(ngModel)]="minPrice">
                            <label for="minPrice" class="price-label">{{ minPrice | currency: 'TND' }}</label>
                        </div>
                        <div class="price-range">
                            <input type="range" id="maxPrice" name="maxPrice" min="minPrice" max="100" step="1" [(ngModel)]="maxPrice">
                            <label for="maxPrice" class="price-label">{{ maxPrice | currency: 'TND' }}</label>
                        </div>
                    </div>
                    <button class="filt" (click)="filterProducts()">
                        <span>Filter</span>
                    </button>
                </div>
            </div>

            <!-- Affichage des cartes de produit filtrÃ©es -->
            <div class="col-lg-9">
              <div class="mini-card">
                <!-- Boutons de tri -->
                <div class="sort-buttons">
                    <div class="sort-label">Tri By Price</div>
                    <ul class="wrapper">
                        <li class="icon black" (click)="sortProductsByPriceAscending()">
                            <span class="tooltip">Asc</span>
                            <span><svg viewBox="0 0 16 16" class="bi bi-chevron-double-up" fill="currentColor" height="15" width="15" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z" fill-rule="evenodd"></path>
                    <path d="M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z" fill-rule="evenodd"></path>
                </svg></span>
                        </li>
                        <li class="icon black" (click)="sortProductsByPriceDescending()">
                            <span class="tooltip">Desc</span>
                            <span><svg viewBox="0 0 16 16" class="bi bi-chevron-double-down" fill="currentColor" height="15" width="15" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" fill-rule="evenodd"></path>
                    <path d="M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" fill-rule="evenodd"></path>
                </svg></span>
                        </li>
                    </ul>
                </div>

                <!-- Pagination -->
                <div class="pagination-container d-flex justify-content-center mt-4 ">
                    <ul class="pagination">
                        <li class="page-item" [class.disabled]="currentPage == 1" (click)="onPageChange(currentPage - 1)">
                            <a class="page-link" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item" *ngFor="let page of pages" [class.active]="page === currentPage">
                            <a class="page-link" (click)="onPageChange(page)">{{ page }}</a>
                        </li>
                        <li class="page-item" [class.disabled]="currentPage == totalPages" (click)="onPageChange(currentPage + 1)">
                            <a class="page-link" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul> 
                </div>
            </div>
                <div class="hp-room-items">
                    <div class="row">
                        <app-card-product-front *ngFor="let product of getCurrentPageProducts()" [product]="product"></app-card-product-front>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<app-footer-front></app-footer-front>
