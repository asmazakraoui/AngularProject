<div class="container-scroller">
    <app-nav-back></app-nav-back>
    <div class="container-fluid page-body-wrapper">
      <app-sidebar></app-sidebar>
        <div class="main-panel">
            <!-- Contenu principal -->
            <div class="col-md-12 ">
                <div class=" mt-5">
                    
                    <h3 class="text-center" >Products</h3>
                    <!--<button class="btn btn-primary ml-2" (click)="openAddProductModal()">Add New Product</button>-->
                    
                    <button class="btn btn-primary ml-2" (click)="openAddProductModal()">Add New Product</button>
                    <section class="hp-room-section">
                        <div class="container-fluid">
                            <!-- Affichage des cartes de produit filtrÃ©es -->
                            <div class="col-lg-12">
                                <div class="mini-card">
                                <!-- Boutons de tri -->
                                <div class="sort-buttons">
                                    <div class="sort-label">Tri By Price</div>
                                    <ul class="wrapper">
                                        <li class="icon black" (click)="sortProductsByPriceAscending()">
                                            <span class="tooltip">Asc</span>
                                            <span><svg viewBox="0 0 16 16" class="bi bi-chevron-double-up" fill="currentColor" height="15" width="15" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z" fill-rule="evenodd"></path>
                                    <path d="M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z" fill-rule="evenodd"></path>
                                </svg></span>
                                        </li>
                                        <li class="icon black" (click)="sortProductsByPriceDescending()">
                                            <span class="tooltip">Desc</span>
                                            <span><svg viewBox="0 0 16 16" class="bi bi-chevron-double-down" fill="currentColor" height="15" width="15" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" fill-rule="evenodd"></path>
                                    <path d="M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" fill-rule="evenodd"></path>
                                </svg></span>
                                        </li>
                                    </ul>
                                </div>
                
                                <!-- Pagination -->
                                <div class="pagination-container d-flex justify-content-center mt-4 ">
                                    <ul class="pagination">
                                        <li class="page-item" [class.disabled]="currentPage == 1" (click)="onPageChange(currentPage - 1)">
                                            <a class="page-link" aria-label="Previous">
                                                <span aria-hidden="true">&laquo;</span>
                                            </a>
                                        </li>
                                        <li class="page-item" *ngFor="let page of pages" [class.active]="page === currentPage">
                                            <a class="page-link" (click)="onPageChange(page)">{{ page }}</a>
                                        </li>
                                        <li class="page-item" [class.disabled]="currentPage == totalPages" (click)="onPageChange(currentPage + 1)">
                                            <a class="page-link" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                            </a>
                                        </li>
                                    </ul> 
                                </div>
                            </div>
                            </div>
                            <div class="hp-room-items">
                                <div class="row">
                                    <app-card-back *ngFor="let product of getCurrentPageProducts()" [product]="product" ></app-card-back>
                                </div>
                                
                            </div>
                        </div>
                    </section>   
                </div>
            </div>    
        </div>
    </div>
</div>
<app-add-product *ngIf="showAddProductModal" (close)="closeAddProductModal()"></app-add-product>
<!--<div class="modal" tabindex="-1" role="dialog" *ngIf="addProductModalOpen">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add New Product</h5>
                <button type="button" class="close" (click)="closeAddProductModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                
                <form [formGroup]="productForm" (ngSubmit)="addProduct()">
                    <div class="container">
                        <p id="heading">Add Product</p>
                            <div class="container-fluid">
                                <label for="nomProduit">Name Product</label>
                                <input type="text" formControlName="nomProduit" class="input-field" placeholder="Enter Name Product">
                            </div>
                            <div class="container-fluid">
                                <label for="prixProduit">Price Product</label>
                                <input type="number" formControlName="prixProduit" class="input-field" placeholder="Enter Price">
                            </div>
                            <div class="container-fluid">
                                <label for="dateFabrication">Manufacturing Date</label>
                                <input type="date" formControlName="dateFabrication" class="input-field" placeholder="Enter Manufacturing Date">
                            </div>
                            <div class="container-fluid">
                                <label for="dateExpiration">Expiration Date</label>
                                <input type="date" formControlName="dateExpiration" class="input-field" placeholder="Enter Expiration Date">
                            </div>
                            <div class="container-fluid">
                                <label for="description">Description</label>
                                <input type="text" formControlName="description" class="input-field" placeholder="Enter Description">
                            </div>
                            <div class="container-fluid" > 
                                <div class="upload-btn-wrapper"> 
                                    <label for="imageProduit">Image Product</label>
                                    <div class="btn-image">
                                        <button class="btn-image">Upload Photo</button>
                                        <input type="file" (change)="onFileSelected($event)" class="input-field" >
                                    </div>
                                </div> 
                            </div>
                            <div class="container-fluid"> 
                                <label for="nbrProduit">Number of Products</label>
                                <input type="number" formControlName="nbrProduit" class="input-field" placeholder="Enter Number of Products">
                            </div>
                
                            <button type="submit" class="btn button-add-product" >Add Product</button>
                
                   
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closeAddProductModal()">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>-->