<div class="container">
    <h2>Funeral Homes</h2>
    <div class="row">
        <div class="col-md-3" *ngFor="let funeralLocation of funeralHomes">
            <ng-container *ngIf="funeralLocation.typeLocation.toString() === 'FuneralHome'">
                <div class="card my-custom-card" (click)="selectFuneral(funeralLocation)"
     [class.selected]="selectedFuneralLocations.includes(funeralLocation)" style="cursor: pointer;">

           
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5 class="card-title">{{ funeralLocation.nameLoc }}</h5>
                            <!-- Bouton "calendar" à droite -->
                            <button type="submit" class="btn btn-cal" (click)="goToCalendar(funeralLocation.idLoc)">
                                <i class="far fa-calendar-alt"></i> <!-- Icône de calendrier Font Awesome -->
                            </button>
                        </div>
                        <p class="card-text">capacity: {{ funeralLocation.capacityLoc }}</p>
                        <p class="card-text">Price: {{ funeralLocation.priceLoc }} €</p>
                        
                        <div class="meal-image-container">
                            <img [src]="'http://localhost/hadilprojet/' + funeralLocation.imgLoc" alt="Image du repas">
                         
                        </div>
                       
                        
                    </div>
                   

                    <app-rating [locationId]="funeralLocation.idLoc.toString()"></app-rating>
                    
                </div>
                
                
            </ng-container>
        </div>
        
    </div>



    <h2>{{ matchingTypeLocation }}</h2>

   <div class="row">
    <!-- Boucle sur les emplacements funéraires déjà filtrés selon la religion de la cérémonie -->
    <div class="col-md-3" *ngFor="let ritualLocation of ritualLocations">
        <!-- Filtre supplémentaire dans le template pour exclure FuneralHome, si nécessaire -->
        <ng-container *ngIf="ritualLocation.typeLocation.toString() !== 'FuneralHome'">
            <div class="card my-custom-card" (click)="selectFuneral(ritualLocation)"
                [class.selected]="selectedFuneralLocations.includes(ritualLocation)" style="cursor: pointer;">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="card-title">{{ ritualLocation.nameLoc }}</h5>
                        <!-- Bouton "calendar" à droite -->
                        <button type="submit" class="btn btn-cal" (click)="goToCalendar(ritualLocation.idLoc)">
                            <i class="far fa-calendar-alt"></i> <!-- Icône de calendrier Font Awesome -->
                        </button>
                    </div>
                    <h5 class="card-title">{{ ritualLocation.nameLoc }}</h5>
                    <div class="meal-image-container">
                        <img [src]="'http://localhost/hadilprojet/' + ritualLocation.imgLoc" alt="{{ ritualLocation.nameLoc }}">
                    </div>
                </div>
                
            </div>
        </ng-container>
    </div>
</div>

    <h2>Cemeteries</h2>
    <app-burrial-selector ></app-burrial-selector>

    <button type="submit" class="btn btn-add" (click)="goToFlowers()">Next</button>

     <!-- Chat bubble icon -->
     <div id="chat-bubble" (click)="toggleChat()">
        <i class="fas fa-comment-dots"></i>
      </div>
      

    <!-- Hidden chat widget iframe -->
    <div id="chat-container" style="display: none;">
        <iframe width="350" height="430" allow="microphone;" src="https://console.dialogflow.com/api-client/demo/embedded/9ed1ef6d-ed45-48d1-8f16-44009a11c507"></iframe>

    </div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


</div>
